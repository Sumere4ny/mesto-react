{"version":3,"sources":["images/logo.svg","components/Header.js","images/like-button.svg","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","utils/constants.js","utils/api.js","images/avatar.jpg","components/App.js","index.js"],"names":["Header","className","src","logo","alt","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","isLiked","likes","some","i","cardLikeButtonClassName","cardDeleteButtonClassName","link","name","onClick","type","onCardDelete","likeButton","onCardLike","length","Main","onEditAvatar","avatar","onEditProfile","about","onAddPlace","cards","map","item","onCardClick","Footer","PopupWithForm","isOpen","onClose","aria-label","title","noValidate","onSubmit","children","ImagePopup","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","id","minLength","maxLength","value","onChange","target","required","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","reset","placeholder","ref","AddPlacePopup","inputName","inputLink","requestParams","baseUrl","headers","authorization","api","this","_baseUrl","_headers","res","ok","json","Promise","reject","Error","status","fetch","method","then","_getResponseData","body","JSON","stringify","avatarUrl","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isImagePopupOpen","setIsImagePopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","closeAllPopups","all","getProfileData","getInitialCards","user","initialCards","catch","err","console","log","Provider","deleteCard","newCards","filter","c","deleteLike","putLike","newCard","data","setProfileData","newData","editAvatar","createCard","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ef58496d.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.c2821b38.svg\";","import logo from '../images/logo.svg';\r\n\r\nfunction Header() {\r\n  return (\r\n    <header className=\"header\">\r\n      <img className=\"header__logo\" src={logo} alt=\"Лого проекта\" />\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","export default __webpack_public_path__ + \"static/media/like-button.df0c9655.svg\";","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n","import React from 'react';\r\nimport likeButton from '../images/like-button.svg';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\n\r\nfunction Card(props) {\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const isOwn = props.card.owner._id === currentUser._id;\r\n\r\n  const isLiked = props.card.likes.some(i => i._id === currentUser._id);\r\n\r\n  const cardLikeButtonClassName = `cards__like-button ${isLiked ? 'cards__like-button_active' : ''}`;\r\n\r\n  const cardDeleteButtonClassName = `cards__remove-button ${isOwn ? '' : 'cards__remove-button_hidden'}`;\r\n\r\n\r\n  function handleCardClick() {\r\n    props.onClick(props.card);\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    props.onCardLike(props.card)\r\n  }\r\n\r\n  function handleCardDelete() {\r\n    props.onCardDelete(props.card)\r\n  }\r\n\r\n  return (\r\n    <div className=\"cards__item\">\r\n      <img className=\"cards__image\" src={props.card.link} alt={props.card.name} onClick={handleCardClick} />\r\n      <button className={cardDeleteButtonClassName} type=\"button\" onClick={handleCardDelete} />\r\n      <div className=\"cards__description\">\r\n        <h2 className=\"cards__title\">{props.card.name}</h2>\r\n        <div className=\"cards__like-container\">\r\n          <img src={likeButton} className={cardLikeButtonClassName} alt=\"Лайк\" onClick={handleLikeClick} />\r\n          <span className=\"cards__like-number\">{props.card.likes.length}</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","import React from 'react';\nimport Card from './Card';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\n\nfunction Main(props) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main className=\"content\">\n        <section className=\"profile\">\n          <div className=\"profile__avatar-container\" onClick={props.onEditAvatar}>\n            <img className=\"profile__avatar\" src={currentUser.avatar} alt=\"Аватар профиля\" />\n          </div>\n          <div className=\"profile__info\">\n            <div className=\"profile__title\">\n              <h1 className=\"profile__name\">{currentUser.name}</h1>\n              <button className=\"profile__edit-button\" onClick={props.onEditProfile} type=\"button\" />\n            </div>\n            <p className=\"profile__profession\">{currentUser.about}</p>\n          </div>\n          <button className=\"profile__add-button\" onClick={props.onAddPlace} type=\"button\" />\n        </section>\n\n        <section className=\"cards\">\n          {props.cards.map(item =>\n            (<Card key={item._id} card={item}\n              onClick={props.onCardClick}\n              onCardLike={props.onCardLike}\n              onCardDelete={props.onCardDelete}\n            />)\n          )}\n        </section>\n    </main>\n  );\n}\n\nexport default Main;\n","function Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">&copy; 2021 Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer\r\n","import React from 'react';\r\n\r\nfunction PopupWithForm(props) {\r\n  return (\r\n    <div className={`popup ${props.isOpen && 'popup_opened'} popup_type_${props.name}`}>\r\n      <div className=\"popup__container\">\r\n        <button type=\"button\" onClick={props.onClose} className=\"popup__close-button\" aria-label=\"Закрыть\" />\r\n        <h2 className=\"popup__title\">{props.title}</h2>\r\n        <form className=\"popup__form\" name={props.name} noValidate onSubmit={props.onSubmit} >\r\n          {props.children}\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm\r\n","import React from 'react';\r\n\r\nfunction ImagePopup({ card, isOpen, onClose }) {\r\n  return (\r\n    <div className={`popup ${isOpen && 'popup_opened'} popup_type_lightbox`}>\r\n      <div className=\"lightbox\">\r\n          <button\r\n            className=\"popup__close-button\"\r\n            type=\"button\"\r\n            onClick={onClose}\r\n            aria-label=\"Закрыть\"\r\n          />\r\n          <img className=\"lightbox__image\"\r\n            src={card.link} alt={card.name} />\r\n          <h2 className=\"lightbox__image-title\">{card.name}</h2>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImagePopup\r\n","import React from 'react';\nimport PopupWithForm from \"./PopupWithForm\";\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction EditProfilePopup(props) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n  const [name, setName] = React.useState('');\n  const [description, setDescription] = React.useState('');\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser]);\n\n  function handleNameChange(e) {\n    setName(e.target.value)\n  }\n\n  function handleDescriptionChange(e) {\n    setDescription(e.target.value)\n  }\n\n  function handleSubmit(e) {\n    // Запрещаем браузеру переходить по адресу формы\n    e.preventDefault();\n\n    // Передаём значения управляемых компонентов во внешний обработчик\n    props.onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n\n  return(\n    <PopupWithForm\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n      name=\"edit-profile\"\n      title=\"Редактировать профиль\">\n      <input type=\"text\" className=\"popup__input popup__input_name-field\" id=\"name\"\n        name=\"name\" minLength=\"2\" maxLength=\"40\" value={name}\n        onChange={handleNameChange} required />\n      <span id='name-error' className='popup__input-error'></span>\n      <input type=\"text\" className=\"popup__input popup__input_profession\" id=\"profession\"\n        name=\"about\" minLength=\"2\" maxLength=\"200\" value={description}\n        onChange={handleDescriptionChange} required />\n      <span id='profession-error' className='popup__input-error'></span>\n      <button type=\"submit\" className=\"popup__submit\">Сохранить</button>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup\n","import React from 'react';\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction EditAvatarPopup(props) {\n\n  const avatarRef = React.useRef();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateAvatar({\n      avatar: avatarRef.current.value,\n    });\n    e.target.reset();\n  }\n\n  return(\n    <PopupWithForm\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n      name=\"edit-avatar\"\n      title=\"Обновить аватар\">\n      <input type=\"url\" className=\"popup__input popup__input_avatar-link\" id=\"avatar-link\"\n        name=\"link\" placeholder=\"Ссылка на аватар\" ref={avatarRef} required />\n      <span id='avatar-link-error' className='popup__input-error'></span>\n      <button type=\"submit\" className=\"popup__submit\">Сохранить</button>\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup\n","import React from 'react';\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction AddPlacePopup(props) {\n\n  const inputName = React.useRef();\n  const inputLink = React.useRef();\n\n  function handleSubmit(e){\n    e.preventDefault();\n    props.onAddPlace({\n      name: inputName.current.value,\n      link: inputLink.current.value\n    });\n  }\n\n  return(\n    <PopupWithForm\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n      name=\"add-new-card\"\n      title=\"Новое место\">\n      <input type=\"text\" className=\"popup__input popup__input_place-name\" id=\"place-name\"\n        name=\"name\" placeholder=\"Название\" minLength=\"2\" maxLength=\"30\" ref={inputName} required />\n      <span id='place-name-error' className='popup__input-error'></span>\n      <input type=\"url\" className=\"popup__input popup__input_place-link\" id=\"place-link\"\n        name=\"link\" placeholder=\"Ссылка на картинку\" ref={inputLink} required />\n      <span id='place-link-error' className='popup__input-error'></span>\n      <button type=\"submit\" className=\"popup__submit\">Создать</button>\n    </PopupWithForm>\n  )\n}\n\nexport default AddPlacePopup\n","\r\nconst requestParams = {\r\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-19',\r\n  headers: {\r\n      authorization: 'd9b0d4bd-9467-4294-aae9-066f4b6515ac',\r\n      'Content-Type': 'application/json'\r\n  }\r\n};\r\n\r\nexport default requestParams\r\n","import requestParams from './constants.js';\r\n\r\nclass Api {\r\n  constructor({ baseUrl, headers }) {\r\n    this._baseUrl = baseUrl;\r\n    this._headers = headers;\r\n  }\r\n\r\n  // Общий обработчик запросов\r\n  _getResponseData(res) {\r\n    if (!res.ok) {\r\n      return Promise.reject(new Error(`Ошибка: ${res.status}`));\r\n    }\r\n    return res.json();\r\n  }\r\n\r\n  // Получаем массив существующих карточек\r\n  getInitialCards() {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      headers: this._headers,\r\n      method: 'GET'\r\n    })\r\n    .then(this._getResponseData);\r\n  }\r\n\r\n  // Получаем основные данные текущего профиля\r\n  getProfileData() {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      headers: this._headers,\r\n      method: 'GET'\r\n    })\r\n    .then(this._getResponseData);\r\n  }\r\n\r\n  // Отправляем обновленную информацию профиля\r\n  setProfileData({ name, about }) {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      headers: this._headers,\r\n      method: 'PATCH',\r\n      body: JSON.stringify({\r\n        name: name,\r\n        about: about\r\n      })\r\n      })\r\n      .then(this._getResponseData)\r\n  }\r\n\r\n  // Создание и удаление карточки\r\n  createCard({ name, link }) {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      method: \"POST\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({ name: name, link: link })\r\n    }).then(this._getResponseData)\r\n  }\r\n\r\n  deleteCard(id) {\r\n    return fetch(`${this._baseUrl}/cards/${id}`, {\r\n      method: \"DELETE\",\r\n      headers: this._headers,\r\n    }).then(this._getResponseData)\r\n  }\r\n\r\n  // Установка и снятие лайка для карточки\r\n  putLike(id) {\r\n    return fetch(`${this._baseUrl}/cards/likes/${id}`, {\r\n      method: \"PUT\",\r\n      headers: this._headers,\r\n    }).then(this._getResponseData)\r\n\r\n  }\r\n\r\n  deleteLike(id) {\r\n    return fetch(`${this._baseUrl}/cards/likes/${id}`, {\r\n      method: \"DELETE\",\r\n      headers: this._headers,\r\n    }).then(this._getResponseData)\r\n  }\r\n\r\n  // Обновление аватара\r\n  editAvatar(avatarUrl) {\r\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify(avatarUrl)\r\n    }).then(this._getResponseData)\r\n  }\r\n}\r\n\r\nconst api = new Api(requestParams);\r\nexport default api\r\n","export default __webpack_public_path__ + \"static/media/avatar.74c3c0fb.jpg\";","import React from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport PopupWithForm from './PopupWithForm';\nimport ImagePopup from './ImagePopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport api from '../utils/api';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport avatar from '../images/avatar.jpg';\n\nfunction App() {\n\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isImagePopupOpen, setIsImagePopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({\n    link: '',\n    name: '',\n    avatar: avatar\n  });\n  const [currentUser, setCurrentUser] = React.useState({\n    name: '',\n    about: '',\n    avatar: ''\n  });\n  const [cards, setCards] = React.useState([]);\n\n  React.useEffect(() => {\n    Promise.all([api.getProfileData(), api.getInitialCards()])\n      .then(([user, initialCards]) => {\n          setCurrentUser(user);\n          setCards([...initialCards]);\n      })\n      .catch(err => console.log(err));\n  }, [])\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  const handleCardClick = ({ name, link }) => {\n    setSelectedCard({ name, link });\n    setIsImagePopupOpen(true);\n  };\n\n  function handleUpdateAvatar(data){\n    api.editAvatar(data)\n      .then((newData) => {\n        setCurrentUser(newData);\n        closeAllPopups();\n      })\n      .catch(err => console.log(err));\n  }\n\n  function handleUpdateUser(data) {\n    api.setProfileData(data)\n      .then((newData) => {\n        setCurrentUser(newData);\n        closeAllPopups();\n      })\n      .catch(err => console.log(err));\n  }\n\n  function handleUpdateCards(data) {\n    api.createCard(data)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch(err => console.log(err));\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    (!isLiked ? api.putLike(card._id) : api.deleteLike(card._id))\n      .then((newCard) => {\n        const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n        setCards(newCards);\n      })\n      .catch(err => console.log(err));\n  }\n\n  function handleCardDelete(card) {\n    api.deleteCard(card._id)\n      .then(() => {\n        const newCards = cards.filter((c) => c._id !== card._id);\n        setCards(newCards);\n      })\n      .catch(err => console.log(err));\n  }\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsImagePopupOpen(false);\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n\n        <Header />\n\n        <Main\n          cards={cards}\n          onEditProfile={handleEditProfileClick}\n          onAddPlace={handleAddPlaceClick}\n          onEditAvatar={handleEditAvatarClick}\n          onCardClick={handleCardClick}\n          onCardDelete={handleCardDelete}\n          onCardLike={handleCardLike}\n        />\n\n        <Footer />\n\n      </div>\n\n      <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\n\n      <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\n\n      <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleUpdateCards}/>\n\n      <PopupWithForm\n        name=\"delete-card\"\n        title=\"Вы уверены\">\n        <button type=\"submit\" className=\"popup__submit popup__submit-confirm\">Да</button>\n      </PopupWithForm>\n\n      <ImagePopup\n        isOpen={isImagePopupOpen}\n        onClose={closeAllPopups}\n        card={selectedCard}\n      />\n\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}