{"version":3,"sources":["images/logo.svg","components/Header.js","images/like-button.svg","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","utils/constants.js","utils/Api.js","images/avatar.jpg","components/App.js","index.js"],"names":["Header","className","src","logo","alt","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","isLiked","likes","some","i","cardLikeButtonClassName","cardDeleteButtonClassName","link","name","onClick","type","onCardDelete","likeButton","onCardLike","length","Main","onEditAvatar","avatar","onEditProfile","about","onAddPlace","cards","map","item","onCardClick","Footer","PopupWithForm","isOpen","onClose","aria-label","title","noValidate","children","ImagePopup","EditProfilePopup","useState","setName","description","setDescription","useEffect","onSubmit","e","preventDefault","onUpdateUser","id","minLength","maxLength","required","EditAvatarPopup","urlRef","useRef","onUpdateAvatar","current","value","placeholder","ref","AddPlacePopup","inputName","inputLink","requestParams","baseUrl","headers","authorization","api","this","_baseUrl","_headers","res","ok","json","Promise","reject","Error","status","fetch","method","then","_getResponseData","body","JSON","stringify","avatarUrl","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isImagePopupOpen","setIsImagePopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","closeAllPopups","all","getProfileData","getInitialCards","user","initialCards","catch","err","console","log","Provider","deleteCard","newCards","filter","c","deleteLike","putLike","newCard","data","setProfileData","newData","editAvatar","createCard","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.fc7471c9.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.c2821b38.svg\";","import logo from '../images/logo.svg';\n\nfunction Header() {\n  return (\n    <header className=\"header\">\n      <img className=\"header__logo\" src={logo} alt=\"Лого проекта\" />\n    </header>\n  );\n}\n\nexport default Header;\n","export default __webpack_public_path__ + \"static/media/like-button.df0c9655.svg\";","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();\n","import React from 'react';\nimport likeButton from '../images/like-button.svg';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\n\nfunction Card(props) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  const isOwn = props.card.owner._id === currentUser._id;\n\n  const isLiked = props.card.likes.some(i => i._id === currentUser._id);\n\n  const cardLikeButtonClassName = `cards__like-button ${isLiked ? 'cards__like-button_active' : ''}`;\n\n  const cardDeleteButtonClassName = `cards__remove-button ${isOwn ? '' : 'cards__remove-button_hidden'}`;\n\n\n  function handleCardClick() {\n    props.onClick(props.card);\n  }\n\n  function handleLikeClick() {\n    props.onCardLike(props.card)\n  }\n\n  function handleCardDelete() {\n    props.onCardDelete(props.card)\n  }\n\n  return (\n    <div className=\"cards__item\">\n      <img className=\"cards__image\" src={props.card.link} alt={props.card.name} onClick={handleCardClick} />\n      <button className={cardDeleteButtonClassName} type=\"button\" onClick={handleCardDelete} />\n      <div className=\"cards__description\">\n        <h2 className=\"cards__title\">{props.card.name}</h2>\n        <div className=\"cards__like-container\">\n          <img src={likeButton} className={cardLikeButtonClassName} alt=\"Лайк\" onClick={handleLikeClick} />\n          <span className=\"cards__like-number\">{props.card.likes.length}</span>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Card;\n","import React from 'react';\nimport Card from './Card';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\n\nfunction Main(props) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main className=\"content\">\n        <section className=\"profile\">\n          <div className=\"profile__avatar-container\" onClick={props.onEditAvatar}>\n            <img className=\"profile__avatar\" src={currentUser.avatar} alt=\"Аватар профиля\" />\n          </div>\n          <div className=\"profile__info\">\n            <div className=\"profile__title\">\n              <h1 className=\"profile__name\">{currentUser.name}</h1>\n              <button className=\"profile__edit-button\" onClick={props.onEditProfile} type=\"button\" />\n            </div>\n            <p className=\"profile__profession\">{currentUser.about}</p>\n          </div>\n          <button className=\"profile__add-button\" onClick={props.onAddPlace} type=\"button\" />\n        </section>\n\n        <section className=\"cards\">\n          {props.cards.map(item => <Card key={item._id} card={item}\n            onClick={props.onCardClick}\n            onCardLike={props.onCardLike}\n            onCardDelete={props.onCardDelete}/>)}\n        </section>\n    </main>\n  );\n}\n\nexport default Main;\n","function Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">&copy; 2021 Mesto Russia</p>\n    </footer>\n  );\n}\n\nexport default Footer\n","import React from 'react';\n\nfunction PopupWithForm(props) {\n  return (\n    <div className={`popup ${props.isOpen && 'popup_opened'} popup_type_${props.name}`}>\n      <div className=\"popup__container\">\n        <button type=\"button\" onClick={props.onClose} className=\"popup__close-button\" aria-label=\"Закрыть\" />\n        <h2 className=\"popup__title\">{props.title}</h2>\n        <form className=\"popup__form\" name={props.name} noValidate>\n          {props.children}\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithForm\n","import React from 'react';\n\nfunction ImagePopup({ card, isOpen, onClose }) {\n  return (\n    <div className={`popup ${isOpen && 'popup_opened'} popup_type_lightbox`}>\n      <div className=\"lightbox\">\n          <button\n            className=\"popup__close-button\"\n            type=\"button\"\n            onClick={onClose}\n            aria-label=\"Закрыть\"\n          />\n          <img className=\"lightbox__image\"\n            src={card.link} alt={card.name} />\n          <h2 className=\"lightbox__image-title\">{card.name}</h2>\n      </div>\n    </div>\n  );\n}\n\nexport default ImagePopup\n","import React from 'react';\nimport PopupWithForm from \"./PopupWithForm\";\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction EditProfilePopup(props) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n  const [name, setName] = React.useState('');\n  const [description, setDescription] = React.useState('');\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser]);\n\n  function handleSubmit(e) {\n    // Запрещаем браузеру переходить по адресу формы\n    e.preventDefault();\n\n    // Передаём значения управляемых компонентов во внешний обработчик\n    props.onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n\n  return(\n    <PopupWithForm\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n      name=\"edit-profile\"\n      title=\"Редактировать профиль\">\n      <input type=\"text\" className=\"popup__input popup__input_name-field\" id=\"name\"\n        name=\"name\" minLength=\"2\" maxLength=\"40\" required />\n      <span id='name-error' className='popup__input-error'></span>\n      <input type=\"text\" className=\"popup__input popup__input_profession\" id=\"profession\"\n        name=\"about\" minLength=\"2\" maxLength=\"200\" required />\n      <span id='profession-error' className='popup__input-error'></span>\n      <button type=\"submit\" className=\"popup__submit\">Сохранить</button>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup\n","import React from 'react';\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction EditAvatarPopup(props) {\n\n  const urlRef = React.useRef();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateAvatar({\n      avatar: urlRef.current.value\n    });\n  }\n\n  return(\n    <PopupWithForm\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n      name=\"edit-avatar\"\n      title=\"Обновить аватар\">\n      <input type=\"url\" className=\"popup__input popup__input_avatar-link\" id=\"avatar-link\"\n        name=\"link\" placeholder=\"Ссылка на картинку\" ref={urlRef} required />\n      <span id='avatar-link-error' className='popup__input-error'></span>\n      <button type=\"submit\" className=\"popup__submit\">Сохранить</button>\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup\n","import React from 'react';\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction AddPlacePopup(props) {\n\n  const inputName = React.useRef();\n  const inputLink = React.useRef();\n\n  function handleSubmit(e){\n    e.preventDefault();\n    props.onAddPlace({\n      name: inputName.current.value,\n      link: inputLink.current.value\n    });\n  }\n\n  return(\n    <PopupWithForm\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n      name=\"add-new-card\"\n      title=\"Новое место\">\n      <input type=\"text\" className=\"popup__input popup__input_place-name\" id=\"place-name\"\n        name=\"name\" placeholder=\"Название\" minLength=\"2\" maxLength=\"30\" ref={inputName} required />\n      <span id='place-name-error' className='popup__input-error'></span>\n      <input type=\"url\" className=\"popup__input popup__input_place-link\" id=\"place-link\"\n        name=\"link\" placeholder=\"Ссылка на картинку\" ref={inputLink} required />\n      <span id='place-link-error' className='popup__input-error'></span>\n      <button type=\"submit\" className=\"popup__submit\">Создать</button>\n    </PopupWithForm>\n  )\n}\n\nexport default AddPlacePopup\n","\nconst requestParams = {\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-19',\n  headers: {\n      authorization: 'd9b0d4bd-9467-4294-aae9-066f4b6515ac',\n      'Content-Type': 'application/json'\n  }\n};\n\nexport default requestParams\n","import requestParams from './constants.js';\n\nclass Api {\n  constructor({ baseUrl, headers }) {\n      this._baseUrl = baseUrl;\n      this._headers = headers;\n  }\n\n  // Общий обработчик запросов\n  _getResponseData(res) {\n      if (!res.ok) {\n          return Promise.reject(new Error(`Ошибка: ${res.status}`));\n      }\n      return res.json();\n  }\n\n  // Получаем массив существующих карточек\n  getInitialCards() {\n      return fetch(`${this._baseUrl}/cards`, {\n          headers: this._headers,\n          method: 'GET'\n      })\n      .then(this._getResponseData);\n  }\n\n  // Получаем основные данные текущего профиля\n  getProfileData() {\n      return fetch(`${this._baseUrl}/users/me`, {\n          headers: this._headers,\n          method: 'GET'\n      })\n      .then(this._getResponseData);\n  }\n\n  // Отправляем обновленную информацию профиля\n  setProfileData({ name, about }) {\n      return fetch(`${this._baseUrl}/users/me`, {\n          headers: this._headers,\n          method: 'PATCH',\n          body: JSON.stringify({\n              name: name,\n              about: about\n          })\n\n      })\n      .then(this._getResponseData)\n  }\n\n  // Создание и удаление карточки\n  createCard({ name, link }) {\n      return fetch(`${this._baseUrl}/cards`, {\n          method: \"POST\",\n          headers: this._headers,\n          body: JSON.stringify({ name: name, link: link })\n      }).then(this._getResponseData)\n\n  }\n\n  deleteCard(id) {\n      return fetch(`${this._baseUrl}/cards/${id}`, {\n          method: \"DELETE\",\n          headers: this._headers,\n      }).then(this._getResponseData)\n\n  }\n\n  // Установка и снятие лайка для карточки\n  putLike(id) {\n      return fetch(`${this._baseUrl}/cards/likes/${id}`, {\n          method: \"PUT\",\n          headers: this._headers,\n      }).then(this._getResponseData)\n\n  }\n\n  deleteLike(id) {\n      return fetch(`${this._baseUrl}/cards/likes/${id}`, {\n          method: \"DELETE\",\n          headers: this._headers,\n      }).then(this._getResponseData)\n\n  }\n\n  // Обновление аватара\n  editAvatar(avatarUrl) {\n      return fetch(`${this._baseUrl}/users/me/avatar`, {\n          method: \"PATCH\",\n          headers: this._headers,\n          body: JSON.stringify({ avatar: avatarUrl })\n      }).then(this._getResponseData)\n  }\n}\n\nconst api = new Api(requestParams);\nexport default api\n","export default __webpack_public_path__ + \"static/media/avatar.74c3c0fb.jpg\";","import React from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport PopupWithForm from './PopupWithForm';\nimport ImagePopup from './ImagePopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport api from '../utils/Api';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport avatar from '../images/avatar.jpg'\n\nfunction App() {\n\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isImagePopupOpen, setIsImagePopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({\n    link: '',\n    name: ''\n  });\n  const [currentUser, setCurrentUser] = React.useState({\n    name: '',\n    about: '',\n    avatar: {avatar}\n  });\n  const [cards, setCards] = React.useState([]);\n\n  React.useEffect(() => {\n    Promise.all([api.getProfileData(), api.getInitialCards()])\n      .then(([user, initialCards]) => {\n          setCurrentUser(user);\n          setCards([...initialCards]);\n      })\n      .catch(err => console.log(err));\n  }, [])\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  const handleCardClick = ({ name, link }) => {\n    setSelectedCard({ name, link });\n    setIsImagePopupOpen(true);\n  };\n\n  function handleUpdateAvatar(data){\n    api.editAvatar(data)\n      .then((newData) => {\n        setCurrentUser(newData);\n        closeAllPopups();\n      })\n      .catch(err => console.log(err));\n  }\n\n  function handleUpdateUser(data) {\n    api.setProfileData(data)\n      .then((newData) => {\n        setCurrentUser(newData);\n        closeAllPopups();\n      })\n      .catch(err => console.log(err));\n  }\n\n  function handleUpdateCards(data) {\n    api.createCard(data)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch(err => console.log(err));\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    (!isLiked ? api.putLike(card._id) : api.deleteLike(card._id))\n      .then((newCard) => {\n        const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n        setCards(newCards);\n      })\n      .catch(err => console.log(err));\n  }\n\n  function handleCardDelete(card) {\n    api.deleteCard(card._id)\n      .then(() => {\n        const newCards = cards.filter((c) => c._id !== card._id);\n        setCards(newCards);\n      })\n      .catch(err => console.log(err));\n  }\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsImagePopupOpen(false);\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n\n        <Header />\n\n        <Main\n          cards={cards}\n          onEditProfile={handleEditProfileClick}\n          onAddPlace={handleAddPlaceClick}\n          onEditAvatar={handleEditAvatarClick}\n          onCardClick={handleCardClick}\n          onCardDelete={handleCardDelete}\n          onCardLike={handleCardLike}\n        />\n\n        <Footer />\n\n      </div>\n\n      <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\n\n      <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\n\n      <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleUpdateCards}/>\n\n      <PopupWithForm\n        name=\"delete-card\"\n        title=\"Вы уверены\">\n        <button type=\"submit\" className=\"popup__submit popup__submit-confirm\">Да</button>\n      </PopupWithForm>\n\n      <ImagePopup\n        isOpen={isImagePopupOpen}\n        onClose={closeAllPopups}\n        card={selectedCard}\n      />\n\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}